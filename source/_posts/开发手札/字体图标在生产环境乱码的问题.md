---
title: å­—ä½“å›¾æ ‡åœ¨ç”Ÿäº§ç¯å¢ƒä¹±ç çš„é—®é¢˜
date: 2023-12-25 23:53:36
tags: ['å‰ç«¯', 'è¸©å‘è®°å½•', 'å­—ä½“å›¾æ ‡']
categories: å¼€å‘æ‰‹æœ­
---

## é—®é¢˜æè¿°

ä½¿ç”¨ `element-ui` æˆ–è€…ä½¿ç”¨å­—ä½“å›¾æ ‡æ—¶ï¼Œå¹¶ä¸”åŒæ—¶ä½¿ç”¨ `dart-sass` æ¥ç¼–è¯‘ä½ çš„ `scss/sass` ä»£ç ï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒå¶å°”å°±ä¼šå‡ºç°å›¾æ ‡å˜æˆä¹±ç çš„ç°è±¡ï¼Œç±»ä¼¼è¿™æ ·ï¼š

![å­—ä½“å›¾æ ‡ä¹±ç ç¤ºä¾‹](/images/iconfont-error.png)

å¾ˆå¤šæ–‡ç« ä¼šè®©ä½ æ”¹ç”¨ `node-sass` æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œè¯šç„¶ï¼Œ`node-sass` ä¸­ä¸å­˜åœ¨è¿™ä¸ªé—®é¢˜ï¼Œå› ä¸º `node-sass` æ²¡æœ‰åœ¨ç¼–è¯‘çš„æ—¶å€™å°† `ASCII` ç åš `UTF-8` è½¬æ¢ï¼Œä½† `node-sass` å› ä½ä¸‹çš„æ€§èƒ½ä¸”éš¾ä»¥å®‰è£…çš„ç‰¹æ€§ï¼Œå·²ç„¶è¢«æ·˜æ±°äº†ã€‚å¯æ˜¯ `sass` çš„ä½œè€…ä¼¼ä¹ä¸å¤ªæ”¯æŒ `ASCII` ç ä¸åšè½¬æ¢çš„è¡Œä¸ºï¼Œæ‰€ä»¥æä¾›äº†å…¶ä»–æ–¹å¼æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚

<!-- more -->

## è§£å†³æ–¹æ¡ˆä¸€

### Vue CLI

å¦‚æœä½ æ˜¯ä½¿ç”¨ `Vue CLI` åˆ›å»ºçš„é¡¹ç›®ï¼Œé‚£ä¹ˆä½ å¯ä»¥åœ¨ `vue.config.js` ä¸­åŠ å…¥ä»¥ä¸‹é…ç½®ï¼š

```js vue.config.js
module.exports = {
  css: {
    loaderOptions: {
      scss: {
        sassOptions: { outputStyle: 'expanded' },
      },
    },
  },
}
```

### webpack

å¦‚æœä½ æ˜¯ä½¿ç”¨ `webpack` ï¼Œé‚£ä¹ˆä½ å¯ä»¥åœ¨ `webpack.config.js` ä¸­åŠ å…¥ä»¥ä¸‹é…ç½®ï¼š

```js webpack.config.js
module.exports = {
  // ...
  module: {
    rules: [
      {
        test: /\.scss$/,
        use: [
          'style-loader',
          'css-loader',
          {
            loader: 'sass-loader',
            options: {
              // åŒ vue.config.js ä¸­çš„ css.loaderOptions.scss.sassOptions
              sassOptions: { outputStyle: 'expanded' },
            },
          },
        ],
      },
    ],
  },
}
```

é‚£ä¹ˆå°±ä¼šåœ¨ç¼–è¯‘è¾“å‡ºçš„ `css` æ–‡ä»¶é¡¶éƒ¨åŠ å…¥ `charset` å£°æ˜ï¼š

```css
/* input */
.title::after {
  content: '\1F46D';
}

/* output */
@charset "UTF-8";
.title::after {
  content: 'ğŸ‘­';
}
```

è¿™æ—¶æµè§ˆå™¨ä¼šæ˜ç¡®ä½¿ç”¨ `utf-8` æ ¼å¼æ¥è§£æ `css` æ–‡ä»¶ã€‚

## è§£å†³æ–¹æ¡ˆäºŒï¼ˆä¸æ¨èï¼‰

å¦‚æœä½ ä½¿ç”¨äº† `postcss` ï¼ˆ`Vue CLI` åˆ›å»ºçš„é¡¹ç›®é»˜è®¤ä½¿ç”¨äº† `postcssï¼Œæ‰€ä»¥ä¹Ÿé€‚ç”¨ä»¥ä¸‹æ–¹æ¡ˆï¼‰ï¼Œé‚£ä¹ˆä¹Ÿå¯ä»¥ç”¨` `postcss` çš„æ’ä»¶æ¥å°† `UTF-8` å­—ç¬¦è½¬æ¢ä¸º `ASCII` çš„è¡¨ç¤ºå½¢å¼ã€‚

### `postcss-sass-unicode` æ’ä»¶

### å®‰è£… `postcss` çš„æ’ä»¶ `postcss-sass-unicode`

```bash
npm install postcss-sass-unicode --save-dev
```

### é…ç½®

é…ç½® `postcss.config.js`ï¼Œæ ¹ç›®å½•æ²¡æœ‰åˆ™æ–°å»º

```js postcss.config.js
module.exports = {
  // ...
  plugins: [require('postcss-sass-unicode')],
  // ...
}
```

### ç¼–è¯‘ç»“æœå¯¹æ¯”

```css
/* input */
.title::after {
  content: '\e6e9';
}

/* output */
.title::after {
  content: '\e6e9';
}
```

### ä¸æ¨èçš„åŸå› 

è¿™ç§æ–¹å¼ä¸æ¨èï¼Œå› ä¸ºæ’ä»¶æ²¡æœ‰å¯¹å…¶ä»–åœºæ™¯åšå¤„ç†ï¼Œå¯¼è‡´ `content` ä¸­æœ‰å¤šä¸ªä¸­æ–‡å­—ç¬¦çš„æ—¶å€™è½¬æ¢å‡ºé—®é¢˜ï¼Œæ¯”å¦‚ï¼š

```css
/* input */
.title::after {
  content: 'ä½ å¥½';
}

/* output */
.title::after {
  content: '\597d'; /* \597d = å¥½ */
}

/* input */
.title::after {
  content: 'ğŸ‘¼';
}

/* output */
.title::after {
  content: '\dc7c'; /* \dc7c = ï¿½ */
}
```

## ç»ˆæè§£å†³æ–¹æ¡ˆ

ä½¿ç”¨ `svg` å›¾æ ‡ã€‚

å®Œã€‚
